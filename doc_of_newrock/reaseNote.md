# fspd Release Notes

> ##### FSP协议资料：http://fsp.sourceforge.net/doc/PROTOCOL.txt
>
> ##### **组件说明：**
>
> - fspd：FSP的服务端程序，内置在OM设备，用于对OM本地文件进行远程管理，当前仅支持对录音文件进行管理;
> - fspClient：FSP的客户端程序，由用户使用，通过该程序进行远程文件管理。
>
> ##### 支持设备型号：
>
> - OM20，OM50

## fspd 1.0.9  ReleaseNotes 2016-09-21  by xxfan
### 修复
| 问题描述                          | 注意事项                               | 关注人     |
| ----------------------------- | ---------------------------------- | ------- |
| 1. 部分日志会直接打印到屏幕上 |    测试时要前台运行，即./fspd ,而非./fspd &| dmzhang |


## fspd 1.0.8 ReleaseNotes 2016-09-18 by xxfan
### 改进
| 功能描述                          | 注意事项                               | 关注人     |
| ----------------------------- | ---------------------------------- | ------- |
| 1.固定几个配置项，不再从配置文件读取.分别为:1) port 9531; 2)symlink /media/sda1/log /tmp/fspd/log ; 3)use_prebuild_dirlists no |                   | dmzhang |


## fspd 1.0.7 ReleaseNotes 2016-09-08 by xxfan
### 修复
| 功能描述                          | 注意事项                               | 关注人     |
| ----------------------------- | ---------------------------------- | ------- |
| 1. 查询目录得到文件数目比实际少 |     配置文件要同步更新到1.0.7               | dmzhang |


## fspd 1.0.6 ReleaseNotes 2016-08-24 by xxfan
### 修复
| 功能描述                          | 注意事项                               | 关注人     |
| ----------------------------- | ---------------------------------- | ------- |
| 1. 查询目录时，响应消息数据包大小未按照客户端指定大小执行 |                          | dmzhang |


## fspd 1.0.5 ReleaseNotes 2016-08-17 by xxfan
### 改进
| 功能描述                          | 注意事项                               | 关注人     |
| ----------------------------- | ---------------------------------- | ------- |
| 1. 将允许发送的数据包大小从最大1024调整到14708 |需要更新配置文件 | dmzhang |



## fspd 1.0.4  ReleaseNotes 2016-06-27  by xxfan

### 修复

| 问题描述          | 解决方法 | 关注人     |
| ------------- | ---- | ------- |
| 1. 修改密码不能实时更新 | 已解决  | dmzhang |



### 新功能

| 功能描述                          | 注意事项                               | 关注人     |
| ----------------------------- | ---------------------------------- | ------- |
| 1. 支持通过配置文件修改p2p注册刷新周期，默认值10秒 | 需要更新配置文件。对应参数p2p_reg_keep_interval | dmzhang |





## fspd 1.0.3  ReleaseNotes 2016-06-23  by xxfan

### 新功能：

| 功能描述                      | 注意事项                  | 关注人     |
| ------------------------- | --------------------- | ------- |
| 新增支持p2p邀请码，默认值为newocktech | libp2pnat版本必须 >=1.1.4 | dmzhang |


## fspd 1.0.2  ReleaseNotes 2016-06-16  by xxfan

### 新功能：

1. 支持管理OM的语音文件和录音文件，且可通过修改fspd.ini来管理其他文件。

2. 新增配置参数：

   - ` password` ：默认值为newrocktech
   - `symlink`：将想要管理的目录软连接到fsp的根目录,格式：symlink old_dir new_dir

   ​

   说明： 以/tmp/fspd作为文件管理的根目录。默认该目录下默认软链接了OM的语音文件和录音的存放目录，可通过修改fspd.ini中的symlink参数值增加新软链接.

   默认目录结构为
     | tmp/fspd/

      	_| voicefile_1 —>/var/ann

     	_| voicefile_2 ->/tmp/ann

     	_| voicfile_2 ->/tmp/fring

    	| Recorder —> /tmp/web/mcc/Recorder

## fspd 1.0.1 ReleaseNotes 2016-06-07 by xxfan

1. 更新：更新p2pnat库为1.1.3，以及调用的相关接口；

## fspd 1.0.0 ReleaseNotes 2016-04-01 by xxfan

```
注：
-依赖于p2plib.so（需要将该库文件放置在/var/lib中）
- 依赖于组件pluginmgr 1.1.29（待云平台发布）
- 请SQA制作该组件相关的启动脚本和升级包。
```

1. 新增：支持对OM设备的本地录音文件进行远程管理；（注：如果本地录音路径发生变化，需重启OM生效）
2. 新增：支持P2PNAT功能，即支持对局域网内的OM设备进行远程文件管理。
3. 新增：支持修改FSP密码功能；（注：默认密码为空，修改密码后需重启OM生效）
